<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1491px" preserveAspectRatio="none" style="width:1288px;height:1491px;" version="1.1" viewBox="0 0 1288 1491" width="1288px" zoomAndPan="magnify"><defs><filter height="300%" id="f11viywf3yvuni" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="354.9375" cy="48.6982" fill="#000000" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: none; stroke-width: 1.0;"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="162" x="273.9375" y="78.6982"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="142" x="283.9375" y="99.8369">tsJest.process(source)</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="305.4375" y="181.0693"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="79" x="315.4375" y="202.208">json stringify</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="307.9375,132.667,401.9375,132.667,413.9375,144.667,401.9375,156.667,307.9375,156.667,295.9375,144.667,307.9375,132.667" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="358.9375" y="166.8774">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="307.9375" y="148.4751">should stringify?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="413.9375" y="142.0728">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="354.9375,251.7417,366.9375,263.7417,354.9375,275.7417,342.9375,263.7417,354.9375,251.7417" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="236.3428">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="249.1475">source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="285.9375,295.7417,423.9375,295.7417,435.9375,307.7417,423.9375,319.7417,285.9375,319.7417,273.9375,307.7417,285.9375,295.7417" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="285.9375" y="311.5498">filename ends with .d.ts</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="253.9375" y="305.1475">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="435.9375" y="305.1475">no</text><path d="M135,339.7417 L135,355.8745 L115,359.8745 L135,363.8745 L135,380.0073 A0,0 0 0 0 135,380.0073 L279,380.0073 A0,0 0 0 0 279,380.0073 L279,349.7417 L269,339.7417 L135,339.7417 A0,0 0 0 0 135,339.7417 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M269,339.7417 L269,349.7417 L279,349.7417 L269,339.7417 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="141" y="356.8086">no need to compile</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="87" x="141" y="371.9414">definition files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="95" x="20" y="342.8901"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="30" y="364.0288">wipe source</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="354.9375,1010.3867,366.9375,1022.3867,354.9375,1034.3867,342.9375,1022.3867,354.9375,1010.3867" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="366.9375" y="1006.9878">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="366.9375" y="1019.7925">source</text><path d="M126.4375,1102.7891 L126.4375,1143.0547 A0,0 0 0 0 126.4375,1143.0547 L242.4375,1143.0547 A0,0 0 0 0 242.4375,1143.0547 L242.4375,1126.9219 L262.4375,1122.9219 L242.4375,1118.9219 L242.4375,1112.7891 L232.4375,1102.7891 L126.4375,1102.7891 A0,0 0 0 0 126.4375,1102.7891 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M232.4375,1102.7891 L232.4375,1112.7891 L242.4375,1112.7891 L232.4375,1102.7891 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="132.4375" y="1119.856">calls babel-jest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="132.4375" y="1134.9888">processor</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="185" x="262.4375" y="1105.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="165" x="272.4375" y="1127.0762">babelJest.process(source)</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="302.9375,1054.3867,406.9375,1054.3867,418.9375,1066.3867,406.9375,1078.3867,302.9375,1078.3867,290.9375,1066.3867,302.9375,1054.3867" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="358.9375" y="1088.5972">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="302.9375" y="1070.1948">should use babel?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="418.9375" y="1063.7925">no</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="354.9375,1179.7583,366.9375,1191.7583,354.9375,1203.7583,342.9375,1191.7583,354.9375,1179.7583" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="1164.3594">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="1177.1641">source</text><path d="M107.9375,1269.4688 L107.9375,1324.8672 A0,0 0 0 0 107.9375,1324.8672 L254.9375,1324.8672 A0,0 0 0 0 254.9375,1324.8672 L254.9375,1301.168 L274.9375,1297.168 L254.9375,1293.168 L254.9375,1279.4688 L244.9375,1269.4688 L107.9375,1269.4688 A0,0 0 0 0 107.9375,1269.4688 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M244.9375,1269.4688 L244.9375,1279.4688 L254.9375,1279.4688 L244.9375,1269.4688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="117" x="113.9375" y="1286.5356">if the hook returns</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="113.9375" y="1301.6685">something it'll be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="113.9375" y="1316.8013">used as new source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="160" x="274.9375" y="1280.1836"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="140" x="284.9375" y="1301.3223">call afterProcess hook</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="287.4375,1223.7583,422.4375,1223.7583,434.4375,1235.7583,422.4375,1247.7583,287.4375,1247.7583,275.4375,1235.7583,287.4375,1223.7583" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="358.9375" y="1257.9688">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="135" x="287.4375" y="1239.5664">has afterProcess hook?</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="354.9375,1361.5708,366.9375,1373.5708,354.9375,1385.5708,342.9375,1373.5708,354.9375,1361.5708" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="1346.1719">update</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="360.9375" y="1358.9766">source</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="282.9375" y="1405.5708"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="124" x="292.9375" y="1426.7095">transformed source</text><ellipse cx="354.9375" cy="1469.5396" fill="#FFFFFF" filter="url(#f11viywf3yvuni)" rx="10" ry="10" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 2.5;" x1="348.7503" x2="361.1247" y1="1463.3524" y2="1475.7267"/><line style="stroke: #000000; stroke-width: 2.5;" x1="361.1247" x2="348.7503" y1="1463.3524" y2="1475.7267"/><rect fill="#D8BFD8" height="1466.7944" style="stroke: #D8BFD8; stroke-width: 1.0;" width="805" x="471.4375" y="12.7451"/><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="131" x="729.3125" y="388.144"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="111" x="739.3125" y="409.2827">create and cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="739.3125" y="423.2515">ts lang service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="742.8125,339.7417,846.8125,339.7417,858.8125,351.7417,846.8125,363.7417,742.8125,363.7417,730.8125,351.7417,742.8125,339.7417" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="798.8125" y="373.9521">no</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="742.8125" y="355.5498">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="858.8125" y="349.1475">yes</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="794.8125,456.0815,806.8125,468.0815,794.8125,480.0815,782.8125,468.0815,794.8125,456.0815" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="737.3125,521.4805,852.3125,521.4805,864.3125,533.4805,852.3125,545.4805,737.3125,545.4805,725.3125,533.4805,737.3125,521.4805" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="737.3125" y="537.2886">in persistent cache?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="705.3125" y="530.8862">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="864.3125" y="530.8862">no</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="481.4375" y="555.4805"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="491.4375" y="576.6191">update mem cache</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="491.4375" y="590.5879">from persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="997.1875,555.4805,1101.1875,555.4805,1113.1875,567.4805,1101.1875,579.4805,997.1875,579.4805,985.1875,567.4805,997.1875,555.4805" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="997.1875" y="571.2886">isolated modules?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="965.1875" y="564.8862">yes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1113.1875" y="564.8862">no</text><path d="M649.4375,593.3164 L649.4375,633.582 A0,0 0 0 0 649.4375,633.582 L799.4375,633.582 A0,0 0 0 0 799.4375,633.582 L799.4375,617.4492 L819.4375,613.4492 L799.4375,609.4492 L799.4375,603.3164 L789.4375,593.3164 L649.4375,593.3164 A0,0 0 0 0 649.4375,593.3164 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M789.4375,593.3164 L789.4375,603.3164 L799.4375,603.3164 L789.4375,593.3164 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="129" x="655.4375" y="610.3833">files will be compiled</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="128" x="655.4375" y="625.5161">as isolated modules</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="120" x="819.4375" y="589.4805"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="829.4375" y="610.6191">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="100" x="829.4375" y="624.5879">transpileModule</text><path d="M959.4375,589.4805 L959.4375,675.1445 A0,0 0 0 0 959.4375,675.1445 L1150.4375,675.1445 A0,0 0 0 0 1150.4375,675.1445 L1150.4375,636.3125 L1170.4375,632.3125 L1150.4375,628.3125 L1150.4375,599.4805 L1140.4375,589.4805 L959.4375,589.4805 A0,0 0 0 0 959.4375,589.4805 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1140.4375,589.4805 L1140.4375,599.4805 L1150.4375,599.4805 L1140.4375,589.4805 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="153" x="965.4375" y="606.5474">make use of the service</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="965.4375" y="621.6802">created above and cached</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="969.4375" y="636.813"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="162" x="965.4375" y="651.9458">mem cache is used when</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="965.4375" y="667.0786">reading files</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="97" x="1170.4375" y="608.3438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="77" x="1180.4375" y="629.4824">compile with</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="44" x="1180.4375" y="643.4512">service</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="1049.1875,681.1445,1061.1875,693.1445,1049.1875,705.1445,1037.1875,693.1445,1049.1875,681.1445" style="stroke: #A80036; stroke-width: 1.5;"/><path d="M771.6875,715.1445 L771.6875,785.6758 A0,0 0 0 0 771.6875,785.6758 L978.6875,785.6758 A0,0 0 0 0 978.6875,785.6758 L978.6875,754.4102 L998.6875,750.4102 L978.6875,746.4102 L978.6875,725.1445 L968.6875,715.1445 L771.6875,715.1445 A0,0 0 0 0 771.6875,715.1445 " fill="#FBFB77" filter="url(#f11viywf3yvuni)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M968.6875,715.1445 L968.6875,725.1445 L978.6875,725.1445 L968.6875,715.1445 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="777.6875" y="732.2114">here is where hoisting of</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="777.6875" y="747.3442">jest.mock is done, as well as</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="777.6875" y="762.4771">user-defined transformations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="101" x="777.6875" y="777.6099">based on config</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="101" x="998.6875" y="726.4414"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="1008.6875" y="747.5801">custom AST</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="81" x="1008.6875" y="761.5488">transformers</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="118" x="990.1875" y="828.4805"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="1000.1875" y="849.6191">fix source maps</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="141" x="978.6875" y="882.4492"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="121" x="988.6875" y="903.5879">update mem cache</text><rect fill="#FEFECE" filter="url(#f11viywf3yvuni)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="175" x="961.6875" y="936.418"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="155" x="971.6875" y="957.5566">update persistent cache</text><polygon fill="#FEFECE" filter="url(#f11viywf3yvuni)" points="794.8125,976.3867,806.8125,988.3867,794.8125,1000.3867,782.8125,988.3867,794.8125,976.3867" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="58.6982" y2="78.6982"/><polygon fill="#A80036" points="350.9375,68.6982,354.9375,78.6982,358.9375,68.6982,354.9375,72.6982" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="156.667" y2="181.0693"/><polygon fill="#A80036" points="350.9375,171.0693,354.9375,181.0693,358.9375,171.0693,354.9375,175.0693" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="413.9375" x2="425.9375" y1="144.667" y2="144.667"/><polygon fill="#A80036" points="421.9375,200.8584,425.9375,210.8584,429.9375,200.8584,425.9375,204.8584" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425.9375" x2="425.9375" y1="144.667" y2="263.7417"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="425.9375" x2="366.9375" y1="263.7417" y2="263.7417"/><polygon fill="#A80036" points="376.9375,259.7417,366.9375,263.7417,376.9375,267.7417,372.9375,263.7417" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="215.0381" y2="251.7417"/><polygon fill="#A80036" points="350.9375,241.7417,354.9375,251.7417,358.9375,241.7417,354.9375,245.7417" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="112.667" y2="132.667"/><polygon fill="#A80036" points="350.9375,122.667,354.9375,132.667,358.9375,122.667,354.9375,126.667" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="273.9375" x2="67.5" y1="307.7417" y2="307.7417"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="67.5" x2="67.5" y1="307.7417" y2="342.8901"/><polygon fill="#A80036" points="63.5,332.8901,67.5,342.8901,71.5,332.8901,67.5,336.8901" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="67.5" x2="67.5" y1="376.8589" y2="1022.3867"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="67.5" x2="342.9375" y1="1022.3867" y2="1022.3867"/><polygon fill="#A80036" points="332.9375,1018.3867,342.9375,1022.3867,332.9375,1026.3867,336.9375,1022.3867" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="275.7417" y2="295.7417"/><polygon fill="#A80036" points="350.9375,285.7417,354.9375,295.7417,358.9375,285.7417,354.9375,289.7417" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1078.3867" y2="1105.9375"/><polygon fill="#A80036" points="350.9375,1095.9375,354.9375,1105.9375,358.9375,1095.9375,354.9375,1099.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="418.9375" x2="457.4375" y1="1066.3867" y2="1066.3867"/><polygon fill="#A80036" points="453.4375,1125.7266,457.4375,1135.7266,461.4375,1125.7266,457.4375,1129.7266" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="457.4375" x2="457.4375" y1="1066.3867" y2="1191.7583"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="457.4375" x2="366.9375" y1="1191.7583" y2="1191.7583"/><polygon fill="#A80036" points="376.9375,1187.7583,366.9375,1191.7583,376.9375,1195.7583,372.9375,1191.7583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1139.9063" y2="1179.7583"/><polygon fill="#A80036" points="350.9375,1169.7583,354.9375,1179.7583,358.9375,1169.7583,354.9375,1173.7583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1034.3867" y2="1054.3867"/><polygon fill="#A80036" points="350.9375,1044.3867,354.9375,1054.3867,358.9375,1044.3867,354.9375,1048.3867" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1247.7583" y2="1280.1836"/><polygon fill="#A80036" points="350.9375,1270.1836,354.9375,1280.1836,358.9375,1270.1836,354.9375,1274.1836" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="434.4375" x2="446.4375" y1="1235.7583" y2="1235.7583"/><polygon fill="#A80036" points="442.4375,1299.9727,446.4375,1309.9727,450.4375,1299.9727,446.4375,1303.9727" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="446.4375" x2="446.4375" y1="1235.7583" y2="1373.5708"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="446.4375" x2="366.9375" y1="1373.5708" y2="1373.5708"/><polygon fill="#A80036" points="376.9375,1369.5708,366.9375,1373.5708,376.9375,1377.5708,372.9375,1373.5708" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1314.1523" y2="1361.5708"/><polygon fill="#A80036" points="350.9375,1351.5708,354.9375,1361.5708,358.9375,1351.5708,354.9375,1355.5708" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1203.7583" y2="1223.7583"/><polygon fill="#A80036" points="350.9375,1213.7583,354.9375,1223.7583,358.9375,1213.7583,354.9375,1217.7583" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1385.5708" y2="1405.5708"/><polygon fill="#A80036" points="350.9375,1395.5708,354.9375,1405.5708,358.9375,1395.5708,354.9375,1399.5708" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="354.9375" x2="354.9375" y1="1439.5396" y2="1459.5396"/><polygon fill="#A80036" points="350.9375,1449.5396,354.9375,1459.5396,358.9375,1449.5396,354.9375,1453.5396" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="794.8125" y1="363.7417" y2="388.144"/><polygon fill="#A80036" points="790.8125,378.144,794.8125,388.144,798.8125,378.144,794.8125,382.144" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="858.8125" x2="870.8125" y1="351.7417" y2="351.7417"/><polygon fill="#A80036" points="866.8125,402.1128,870.8125,412.1128,874.8125,402.1128,870.8125,406.1128" style="stroke: #A80036; stroke-width: 1.5;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="870.8125" x2="870.8125" y1="351.7417" y2="468.0815"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="870.8125" x2="806.8125" y1="468.0815" y2="468.0815"/><polygon fill="#A80036" points="816.8125,464.0815,806.8125,468.0815,816.8125,472.0815,812.8125,468.0815" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="794.8125" y1="436.0815" y2="456.0815"/><polygon fill="#A80036" points="790.8125,446.0815,794.8125,456.0815,798.8125,446.0815,794.8125,450.0815" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="985.1875" x2="879.4375" y1="567.4805" y2="567.4805"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879.4375" x2="879.4375" y1="567.4805" y2="589.4805"/><polygon fill="#A80036" points="875.4375,579.4805,879.4375,589.4805,883.4375,579.4805,879.4375,583.4805" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1113.1875" x2="1218.9375" y1="567.4805" y2="567.4805"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1218.9375" x2="1218.9375" y1="567.4805" y2="608.3438"/><polygon fill="#A80036" points="1214.9375,598.3438,1218.9375,608.3438,1222.9375,598.3438,1218.9375,602.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879.4375" x2="879.4375" y1="637.418" y2="693.1445"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="879.4375" x2="1037.1875" y1="693.1445" y2="693.1445"/><polygon fill="#A80036" points="1027.1875,689.1445,1037.1875,693.1445,1027.1875,697.1445,1031.1875,693.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1218.9375" x2="1218.9375" y1="656.2813" y2="693.1445"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1218.9375" x2="1061.1875" y1="693.1445" y2="693.1445"/><polygon fill="#A80036" points="1071.1875,689.1445,1061.1875,693.1445,1071.1875,697.1445,1067.1875,693.1445" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="705.1445" y2="726.4414"/><polygon fill="#A80036" points="1045.1875,716.4414,1049.1875,726.4414,1053.1875,716.4414,1049.1875,720.4414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="774.3789" y2="828.4805"/><polygon fill="#A80036" points="1045.1875,818.4805,1049.1875,828.4805,1053.1875,818.4805,1049.1875,822.4805" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="94" x="1053.1875" y="806.9805">compiled source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="862.4492" y2="882.4492"/><polygon fill="#A80036" points="1045.1875,872.4492,1049.1875,882.4492,1053.1875,872.4492,1049.1875,876.4492" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="916.418" y2="936.418"/><polygon fill="#A80036" points="1045.1875,926.418,1049.1875,936.418,1053.1875,926.418,1049.1875,930.418" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="725.3125" x2="560.4375" y1="533.4805" y2="533.4805"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="560.4375" x2="560.4375" y1="533.4805" y2="555.4805"/><polygon fill="#A80036" points="556.4375,545.4805,560.4375,555.4805,564.4375,545.4805,560.4375,549.4805" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="864.3125" x2="1049.1875" y1="533.4805" y2="533.4805"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="533.4805" y2="555.4805"/><polygon fill="#A80036" points="1045.1875,545.4805,1049.1875,555.4805,1053.1875,545.4805,1049.1875,549.4805" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="560.4375" x2="560.4375" y1="603.418" y2="988.3867"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="560.4375" x2="782.8125" y1="988.3867" y2="988.3867"/><polygon fill="#A80036" points="772.8125,984.3867,782.8125,988.3867,772.8125,992.3867,776.8125,988.3867" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="1049.1875" y1="970.3867" y2="988.3867"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1049.1875" x2="806.8125" y1="988.3867" y2="988.3867"/><polygon fill="#A80036" points="816.8125,984.3867,806.8125,988.3867,816.8125,992.3867,812.8125,988.3867" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="794.8125" y1="480.0815" y2="521.4805"/><polygon fill="#A80036" points="790.8125,511.4805,794.8125,521.4805,798.8125,511.4805,794.8125,515.4805" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="798.8125" y="501.3862">source</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="435.9375" x2="794.8125" y1="307.7417" y2="307.7417"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="794.8125" y1="307.7417" y2="339.7417"/><polygon fill="#A80036" points="790.8125,329.7417,794.8125,339.7417,798.8125,329.7417,794.8125,333.7417" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="794.8125" y1="1000.3867" y2="1022.3867"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="794.8125" x2="366.9375" y1="1022.3867" y2="1022.3867"/><polygon fill="#A80036" points="376.9375,1018.3867,366.9375,1022.3867,376.9375,1026.3867,372.9375,1022.3867" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="85" x="203.2188" y="29.4531">processor</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="158" x="784.9375" y="29.4531">compiler (cached)</text><line style="stroke: #000000; stroke-width: 2.0;" x1="10" x2="10" y1="12.7451" y2="1479.5396"/><line style="stroke: #000000; stroke-width: 2.0;" x1="471.4375" x2="471.4375" y1="12.7451" y2="1479.5396"/><line style="stroke: #000000; stroke-width: 2.0;" x1="1276.4375" x2="1276.4375" y1="12.7451" y2="1479.5396"/><!--MD5=[4b314dd04eee86acd18a399a8fcabee5]
@startuml


|processor|
start

:tsJest.process(source);

if (should stringify?) then (yes)
  :json stringify;
  -> update
  source;

else (no)
endif

if (filename ends with .d.ts) then (yes)
  :wipe source;
  note right
    no need to compile
    definition files
  end note

else (no)

  |#Thistle|compiler (cached)|
  if (isolated modules?) then (yes)
  else (no)
    :create and cache
    ts lang service;
  endif

  -> source;

  if (in persistent cache?) then (yes)
    :update mem cache
    from persistent cache;

  else (no)
    if (isolated modules?) then (yes)
      :compile with
      transpileModule;
      note left
        files will be compiled
        as isolated modules
      end note

    else (no)
      :compile with
      service;
      note left
        make use of the service
        created above and cached

        mem cache is used when
        reading files
      end note

    endif

    :custom AST
    transformers;
    note left
      here is where hoisting of
      jest.mock is done, as well as
      user-defined transformations
      based on config
    end note

    -> compiled source;

    :fix source maps;
    :update mem cache;
    :update persistent cache;

  endif
  |processor|

  -> update
  source;

endif

if (should use babel?) then (yes)
  :babelJest.process(source);
  note left
    calls babel-jest
    processor
  end note
  -> update
  source;

else (no)
endif

if (has afterProcess hook?) then (yes)
  :call afterProcess hook;
  -> update
  source;
  note left
    if the hook returns
    something it'll be
    used as new source
  end note

endif

:transformed source;

end


@enduml

PlantUML version 1.2020.05(Fri Mar 20 02:47:32 IST 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_45-b14
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: IN
--></g></svg>